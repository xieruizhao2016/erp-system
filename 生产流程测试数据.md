# 生产流程测试数据

本文档提供一套完整的生产流程测试数据，从销售订单到生产、采购、库存管理的全流程体验。

## 一、基础数据准备

### 1.1 产品分类
**路径：** ERP系统 → 产品管理 → 产品分类

| 分类名称 | 父分类 | 排序 | 状态 |
|---------|--------|------|------|
| 电子产品 | - | 1 | 启用 |
| 原材料 | - | 2 | 启用 |

### 1.2 产品单位
**路径：** ERP系统 → 产品管理 → 产品单位

| 单位名称 | 单位代码 | 排序 | 状态 |
|---------|---------|------|------|
| 个 | PCS | 1 | 启用 |
| 套 | SET | 2 | 启用 |
| 件 | PC | 3 | 启用 |

### 1.3 仓库
**路径：** ERP系统 → 库存管理 → 仓库管理

| 仓库名称 | 仓库编号 | 负责人 | 状态 |
|---------|---------|--------|------|
| 原材料仓库 | CK001 | （选择系统用户） | 启用 |
| 成品仓库 | CK002 | （选择系统用户） | 启用 |

### 1.4 工作中心
**路径：** ERP系统 → 基础数据 → 工作中心

| 工作中心名称 | 工作中心编号（自动生成） | 负责人 | 状态 |
|-------------|----------------------|--------|------|
| 组装车间 | （自动生成） | （选择系统用户） | 启用 |
| 包装车间 | （自动生成） | （选择系统用户） | 启用 |

### 1.5 工序
**路径：** ERP系统 → 基础数据 → 工序

| 工序名称 | 工序编号（自动生成） | 工序类型 | 标准工时（分钟） | 工作中心 | 状态 |
|---------|-------------------|---------|----------------|---------|------|
| 组装 | （自动生成） | 加工 | 30 | 组装车间 | 启用 |
| 测试 | （自动生成） | 检验 | 10 | 组装车间 | 启用 |
| 包装 | （自动生成） | 包装 | 15 | 包装车间 | 启用 |

### 1.6 客户
**路径：** ERP系统 → 销售管理 → 客户管理

| 名称 | 联系人 | 手机号码 | 状态 |
|------|--------|---------|------|
| 测试客户A | 张三 | 13800138000 | 启用 |

### 1.7 供应商
**路径：** ERP系统 → 采购管理 → 供应商管理

| 名称 | 联系人 | 手机号码 | 状态 |
|------|--------|---------|------|
| 测试供应商A | 李四 | 13900139000 | 启用 |

---

## 二、产品数据

### 2.1 成品：智能手环
**路径：** ERP系统 → 产品管理 → 产品管理

| 字段 | 值 |
|------|-----|
| 名称 | 智能手环 |
| 分类 | 电子产品 |
| 单位 | 个 |
| 规格 | 标准版 |
| 采购价格 | 80.00 |
| 销售价格 | 150.00 |
| 状态 | 启用 |

### 2.2 原材料/配件

#### 2.2.1 显示屏
| 字段 | 值 |
|------|-----|
| 名称 | 显示屏 |
| 分类 | 原材料 |
| 单位 | 个 |
| 规格 | 1.4寸OLED |
| 采购价格 | 25.00 |
| 销售价格 | 30.00 |
| 状态 | 启用 |

#### 2.2.2 电池
| 字段 | 值 |
|------|-----|
| 名称 | 锂电池 |
| 分类 | 原材料 |
| 单位 | 个 |
| 规格 | 200mAh |
| 采购价格 | 15.00 |
| 销售价格 | 18.00 |
| 状态 | 启用 |

#### 2.2.3 外壳
| 字段 | 值 |
|------|-----|
| 名称 | 手环外壳 |
| 分类 | 原材料 |
| 单位 | 个 |
| 规格 | 硅胶材质 |
| 采购价格 | 8.00 |
| 销售价格 | 10.00 |
| 状态 | 启用 |

#### 2.2.4 主板
| 字段 | 值 |
|------|-----|
| 名称 | 主控板 |
| 分类 | 原材料 |
| 单位 | 个 |
| 规格 | 标准版 |
| 采购价格 | 30.00 |
| 销售价格 | 35.00 |
| 状态 | 启用 |

#### 2.2.5 表带
| 字段 | 值 |
|------|-----|
| 名称 | 表带 |
| 分类 | 原材料 |
| 单位 | 个 |
| 规格 | 标准版 |
| 采购价格 | 5.00 |
| 销售价格 | 6.00 |
| 状态 | 启用 |

---

## 三、BOM物料清单

### 3.1 智能手环BOM
**路径：** ERP系统 → 产品管理 → BOM管理

| 字段 | 值 |
|------|-----|
| 产品 | 智能手环 |
| BOM编号 | BOM-SHB-001 |
| BOM名称 | 智能手环标准BOM |
| 版本号 | V1.0 |
| BOM类型 | 标准BOM |
| 状态 | 启用 |

**BOM明细（在BOM明细中添加）：**

| 序号 | 物料名称 | 数量 | 单位 | 备注 |
|------|---------|------|------|------|
| 1 | 显示屏 | 1 | 个 | 必配 |
| 2 | 锂电池 | 1 | 个 | 必配 |
| 3 | 手环外壳 | 1 | 个 | 必配 |
| 4 | 主控板 | 1 | 个 | 必配 |
| 5 | 表带 | 1 | 个 | 必配 |

---

## 四、工艺路线

### 4.1 智能手环工艺路线
**路径：** ERP系统 → 基础数据 → 工艺路线

| 字段 | 值 |
|------|-----|
| 工艺路线编号 | GY-SHB-001 |
| 工艺路线名称 | 智能手环标准工艺路线 |
| 产品 | 智能手环 |
| 版本号 | V1.0 |
| 标准周期时间（分钟） | 55 |
| 状态 | 启用 |

**工序明细（在工序明细中添加）：**

| 序号 | 工序名称 | 工作中心 | 标准工时（分钟） | 备注 |
|------|---------|---------|----------------|------|
| 1 | 组装 | 组装车间 | 30 | 组装各部件 |
| 2 | 测试 | 组装车间 | 10 | 功能测试 |
| 3 | 包装 | 包装车间 | 15 | 成品包装 |

---

## 五、销售订单

### 5.1 创建销售订单
**路径：** ERP系统 → 销售管理 → 销售订单

| 字段 | 值 |
|------|-----|
| 客户 | 测试客户A |
| 订单日期 | 今天 |
| 交货日期 | 7天后 |
| 备注 | 测试订单 |

**订单明细：**

| 产品名称 | 数量 | 单价 | 金额 |
|---------|------|------|------|
| 智能手环 | 10 | 150.00 | 1500.00 |

**保存后订单状态：** 待审核（或已审核，根据系统配置）

---

## 六、MRP运算

### 6.1 执行MRP运算
**路径：** ERP系统 → 生产管理 → MRP运算结果

1. 进入MRP运算结果页面
2. 点击"MRP运算"按钮
3. 选择销售订单（选择刚才创建的销售订单）
4. 执行运算

**运算结果：**
- 需要生产：智能手环 × 10个
- 需要采购：
  - 显示屏 × 10个
  - 锂电池 × 10个
  - 手环外壳 × 10个
  - 主控板 × 10个
  - 表带 × 10个

### 6.2 创建采购订单
在MRP运算结果页面：
1. 勾选需要采购的物料
2. 点击"创建采购订单"
3. 选择供应商：测试供应商A
4. 确认创建

### 6.3 创建生产订单
在MRP运算结果页面：
1. 勾选需要生产的产品（智能手环）
2. 点击"创建生产订单"
3. 确认创建

---

## 七、采购流程

### 7.1 采购订单
**路径：** ERP系统 → 采购管理 → 采购订单

查看刚才创建的采购订单，确认：
- 供应商：测试供应商A
- 物料明细：5种原材料各10个
- 订单状态：待审核（或已审核）

### 7.2 采购入库
**路径：** ERP系统 → 采购管理 → 采购入库

1. 点击"新增"按钮
2. 选择采购订单（选择刚才创建的采购订单）
3. 选择入库仓库：原材料仓库
4. 确认入库数量（默认与订单数量一致）
5. 保存并审核

**入库后：**
- 原材料库存增加
- 可以在"库存管理 → 库存查询"中查看库存

---

## 八、生产流程

### 8.1 生产订单状态说明
**路径：** ERP系统 → 生产管理 → 生产订单

查看刚才创建的生产订单，确认：
- 产品：智能手环
- 数量：10个
- 订单状态：待开始（状态1）

**生产订单状态说明：**
- **待开始（状态1）**：生产订单已创建，但尚未开始生产
- **进行中（状态2）**：生产订单正在执行中
- **已暂停（状态3）**：生产订单已暂停
- **已完成（状态4）**：生产订单已完成
- **已取消（状态5）**：生产订单已取消

**操作步骤：**
1. 找到刚才创建的生产订单
2. 点击操作列中的"状态切换"下拉菜单
3. 选择"进行中"状态（状态2）
4. 确认状态切换

**状态切换后：**
- 订单状态变为"进行中"
- 系统会根据生产订单自动创建工单（或需要手动创建）
- 工单会关联产品的工艺路线
- 自动生成工序进度记录

**注意：**
- 生产订单**没有审核功能**（与销售订单和采购订单不同）
- 生产订单创建后默认状态为"待开始"（状态1）
- 可以通过"状态切换"下拉菜单手动切换状态
- 建议在开始生产前，先将状态切换为"进行中"，然后再创建工单

---

### 8.2 创建工单（如果系统未自动创建）
**路径：** ERP系统 → 生产管理 → 工单管理

**操作步骤：**
1. 点击"新增"按钮
2. 选择生产订单（选择步骤8.1的生产订单）
3. 系统自动填充：
   - 产品：智能手环
   - 工单数量：10个
   - 工作中心：根据工艺路线自动填充
4. 填写工单信息：
   - 主管：选择系统用户（如生产主管）
   - 计划开始时间：今天
   - 计划结束时间：今天 + 1小时（根据工艺路线总工时计算）
   - 优先级：中
   - 作业指导书：可填写操作说明
   - 备注：测试工单
5. 保存工单

**工单创建后：**
- 工单状态：已创建（状态1）
- 系统自动根据工艺路线创建工序进度记录：
  - 工序1：组装（待开始）
  - 工序2：测试（待开始）
  - 工序3：包装（待开始）

---

### 8.3 工单下达
**路径：** ERP系统 → 生产管理 → 工单管理

**操作步骤：**
1. 找到刚才创建的工单
2. 点击"下达"按钮（或"开始生产"按钮）
3. 系统验证：
   - 检查原材料库存是否充足
   - 检查工作中心是否可用
   - 检查设备是否可用（如果工序配置了设备）
4. 下达成功后：
   - 工单状态变为：已下达（状态2）
   - 第一道工序状态变为：待开始

**下达前检查：**
- 确保原材料库存充足（各原材料至少10个）
- 确保工作中心状态为"启用"
- 确保相关设备状态为"空闲"（如果使用设备）

---

### 8.4 原材料出库（领料）
**路径：** ERP系统 → 库存管理 → 出库管理

**操作步骤：**
1. 点击"新增"按钮
2. 选择出库类型：生产领料
3. 选择工单（或生产订单）：选择刚才创建的工单
4. 系统自动带出BOM物料清单：
   - 显示屏 × 10个
   - 锂电池 × 10个
   - 手环外壳 × 10个
   - 主控板 × 10个
   - 表带 × 10个
5. 选择出库仓库：原材料仓库
6. 确认出库数量（默认与需求数量一致）
7. 保存并审核

**出库后：**
- 原材料库存减少
- 可以在"库存管理 → 库存查询"中查看库存变化
- 工单可以开始生产

---

### 8.5 开始工单生产
**路径：** ERP系统 → 生产管理 → 工单管理

**操作步骤：**
1. 找到已下达的工单
2. 点击"开始生产"按钮
3. 选择设备（如果工序配置了设备，可选）
4. 确认开始时间
5. 点击"确认开始"

**开始后：**
- 工单状态变为：进行中（状态3）
- 第一道工序（组装）状态变为：进行中
- 记录实际开始时间
- 设备状态变为：运行中（如果使用了设备）

---

### 8.6 执行工序（按顺序执行）

#### 8.6.1 执行第一道工序：组装
**路径：** ERP系统 → 生产管理 → 工单进度

**操作步骤：**
1. 找到工单对应的工序进度记录
2. 找到第一道工序"组装"（序号1）
3. 点击"开始"或"编辑"按钮
4. 填写工序信息：
   - 操作员：选择系统用户（如操作员）
   - 设备：选择设备（如果配置了设备，可选）
   - 开始时间：当前时间
5. 点击"保存"或"开始"

**开始后：**
- 工序状态变为：进行中（状态2）
- 记录实际开始时间
- 工单进度显示：1/3 工序进行中

**执行过程中：**
- 可以实时更新完成数量
- 可以记录异常情况（如停机时间）
- 可以记录实际工时

**完成工序：**
1. 当组装完成后，点击"完成"按钮
2. 填写完成信息：
   - 完成数量：10个
   - 合格数量：10个（假设全部合格）
   - 不合格数量：0个
   - 报废数量：0个
   - 实际工时：30分钟（标准工时）
   - 结束时间：当前时间
   - 备注：组装完成
3. 点击"保存"或"完成"

**完成后：**
- 工序状态变为：已完成（状态3）
- 记录实际结束时间
- 系统自动开始下一道工序（测试）

---

#### 8.6.2 执行第二道工序：测试
**路径：** ERP系统 → 生产管理 → 工单进度

**操作步骤：**
1. 第一道工序完成后，系统自动将第二道工序状态变为"待开始"
2. 找到第二道工序"测试"（序号2）
3. 点击"开始"按钮
4. 填写工序信息：
   - 操作员：选择系统用户
   - 开始时间：当前时间
5. 点击"开始"

**执行测试：**
- 进行功能测试
- 可以记录测试结果
- 如果有不合格品，记录不合格数量

**完成工序：**
1. 测试完成后，点击"完成"按钮
2. 填写完成信息：
   - 完成数量：10个
   - 合格数量：9个（假设1个不合格）
   - 不合格数量：1个
   - 报废数量：0个
   - 实际工时：10分钟
   - 结束时间：当前时间
   - 备注：测试完成，1个不合格
3. 点击"保存"或"完成"

**完成后：**
- 工序状态变为：已完成
- 系统自动开始下一道工序（包装）
- 注意：由于有1个不合格，后续工序数量为9个

---

#### 8.6.3 执行第三道工序：包装
**路径：** ERP系统 → 生产管理 → 工单进度

**操作步骤：**
1. 第二道工序完成后，系统自动将第三道工序状态变为"待开始"
2. 找到第三道工序"包装"（序号3）
3. 点击"开始"按钮
4. 填写工序信息：
   - 操作员：选择系统用户
   - 开始时间：当前时间
5. 点击"开始"

**执行包装：**
- 对合格品进行包装
- 注意：由于测试有1个不合格，包装数量为9个

**完成工序：**
1. 包装完成后，点击"完成"按钮
2. 填写完成信息：
   - 完成数量：9个
   - 合格数量：9个
   - 不合格数量：0个
   - 报废数量：0个
   - 实际工时：15分钟
   - 结束时间：当前时间
   - 备注：包装完成
3. 点击"保存"或"完成"

**完成后：**
- 工序状态变为：已完成
- 所有工序完成，系统自动完成工单

---

### 8.7 工单完成
**路径：** ERP系统 → 生产管理 → 工单管理

**当所有工序完成后：**
- 工单状态自动变为：已完成（状态5）
- 记录实际结束时间
- 完成数量：9个（由于测试有1个不合格）
- 合格数量：9个

**工单完成后的数据：**
- 工单总工时：55分钟（30+10+15）
- 完成率：90%（9/10）
- 合格率：100%（9/9，基于完成数量）

---

### 8.8 生产入库
**路径：** ERP系统 → 库存管理 → 入库管理

**操作步骤：**
1. 点击"新增"按钮
2. 选择入库类型：生产入库
3. 选择工单（或生产订单）：选择刚才完成的工单
4. 系统自动带出：
   - 产品：智能手环
   - 入库数量：9个（根据工单合格数量）
5. 选择入库仓库：成品仓库
6. 确认入库数量（9个）
7. 保存并审核

**入库后：**
- 成品库存增加（智能手环 × 9个）
- 可以在"库存管理 → 库存查询"中查看库存
- 生产订单完成数量更新为9个

**注意：**
- 由于测试有1个不合格，实际入库数量为9个，不是10个
- 不合格品需要处理（返工、报废等）

---

### 8.9 工单进度跟踪（可选）
**路径：** ERP系统 → 生产管理 → 工单进度

**可以随时查看：**
- 工单总体进度：3/3 工序已完成
- 每道工序的详细进度：
  - 计划时间 vs 实际时间
  - 计划数量 vs 完成数量
  - 合格率、不合格率
  - 实际工时 vs 标准工时
- 工单完成率：90%
- 工单合格率：100%（基于完成数量）

---

### 8.10 工时记录（可选）
**路径：** ERP系统 → 生产管理 → 工时管理

**系统自动记录：**
- 每道工序的实际工时
- 总工时：55分钟
- 可以查看工时明细

**也可以手动记录：**
- 操作员工时
- 设备使用时间
- 停机时间等

---

## 八、补充说明：工单和工序详解

### 8.11 工单状态说明

| 状态 | 状态码 | 说明 | 可执行操作 |
|------|--------|------|-----------|
| 已创建 | 1 | 工单已创建，但未下达 | 下达、编辑、取消 |
| 已下达 | 2 | 工单已下达，准备开始生产 | 开始生产、暂停、取消 |
| 进行中 | 3 | 工单正在生产中 | 暂停、完成、查看进度 |
| 已暂停 | 4 | 工单已暂停 | 恢复、取消 |
| 已完成 | 5 | 工单已完成 | 查看详情、入库 |
| 已取消 | 6 | 工单已取消 | 查看详情 |

### 8.12 工序状态说明

| 状态 | 状态码 | 说明 | 可执行操作 |
|------|--------|------|-----------|
| 待开始 | 1 | 工序尚未开始 | 开始、跳过（如果允许） |
| 进行中 | 2 | 工序正在执行 | 完成、暂停、更新进度 |
| 已完成 | 3 | 工序已完成 | 查看详情 |
| 异常 | 4 | 工序执行异常 | 处理异常、重新开始 |

### 8.13 工序执行规则

1. **顺序执行：**
   - 必须按照工艺路线明细的序号顺序执行
   - 序号1的工序完成后，才能开始序号2的工序
   - 不能跳过或乱序执行

2. **数量传递：**
   - 第一道工序的完成数量 = 工单数量（10个）
   - 如果第一道工序有不合格品，第二道工序的数量 = 第一道工序的合格数量
   - 以此类推，最终入库数量 = 最后一道工序的合格数量

3. **时间计算：**
   - 计划时间 = 根据标准工时计算
   - 实际时间 = 从开始到结束的实际耗时
   - 可以对比计划时间与实际时间的差异

4. **质量检验：**
   - 如果工序配置了"需要质检"，必须完成质检才能进入下一道工序
   - 质检结果：合格、不合格
   - 不合格品需要处理（返工、报废等）

### 8.14 工单进度跟踪

**在工单进度页面可以查看：**

1. **总体进度：**
   - 已完成工序数 / 总工序数（如：3/3）
   - 完成百分比
   - 预计完成时间

2. **每道工序详情：**
   - 工序名称和序号
   - 计划时间 vs 实际时间
   - 计划数量 vs 完成数量
   - 合格数量 vs 不合格数量
   - 实际工时 vs 标准工时
   - 操作员和设备信息

3. **异常情况：**
   - 停机时间
   - 异常原因和处理方式
   - 返工记录

### 8.15 常见问题处理

1. **原材料不足：**
   - 问题：工单下达时提示原材料不足
   - 处理：先完成采购入库，确保原材料库存充足后再下达工单

2. **工序执行异常：**
   - 问题：某道工序执行过程中出现异常
   - 处理：记录异常情况，暂停工单，处理异常后恢复生产

3. **不合格品处理：**
   - 问题：某道工序产生不合格品
   - 处理：
     - 记录不合格数量
     - 不合格品不进入下一道工序
     - 可以返工或报废处理
     - 最终入库数量 = 合格数量

4. **设备故障：**
   - 问题：生产过程中设备故障
   - 处理：
     - 记录停机时间
     - 更换设备或维修设备
     - 恢复生产后继续执行工序

---

## 九、销售出库

### 9.1 销售出库
**路径：** ERP系统 → 销售管理 → 销售出库

1. 点击"新增"按钮
2. 选择销售订单（选择步骤五创建的销售订单）
3. 选择出库仓库：成品仓库
4. 确认出库数量（10个）
5. 保存并审核

**出库后：**
- 成品库存减少（智能手环减少10个）
- 可以在"库存管理 → 库存查询"中查看库存

---

## 十、流程总结

### 完整流程链路：

```
1. 销售订单（客户下单）
   ↓
2. MRP运算（计算需要采购和生产什么）
   ↓
3. 采购订单（采购原材料）
   ↓
4. 采购入库（原材料入库）
   ↓
5. 生产订单（创建生产计划）
   ↓
6. 工单创建（根据生产订单创建工单）
   ↓
7. 工单下达（下达生产任务）
   ↓
8. 原材料出库（生产领料）
   ↓
9. 开始工单生产（开始第一道工序）
   ↓
10. 执行工序（按顺序执行：组装→测试→包装）
    ↓
11. 工单完成（所有工序完成）
    ↓
12. 生产入库（成品入库）
    ↓
13. 销售出库（销售给客户）
```

### 数据验证点：

1. **库存变化：**
   - 采购入库后：原材料库存增加
   - 原材料出库后：原材料库存减少
   - 生产入库后：成品库存增加
   - 销售出库后：成品库存减少

2. **订单状态流转：**
   - 生产订单：待审核 → 已审核 → 进行中 → 已完成
   - 工单：已创建 → 已下达 → 进行中 → 已完成
   - 工序：待开始 → 进行中 → 已完成（按顺序执行）

3. **工单进度：**
   - 工序执行顺序：必须按照工艺路线序号顺序执行
   - 完成数量：每道工序的完成数量应该一致（或递减，如果有不合格）
   - 合格数量：最终合格数量决定入库数量

4. **工时记录：**
   - 每道工序的实际工时应该记录
   - 总工时 = 各工序工时之和
   - 可以对比实际工时与标准工时

5. **成本核算：**
   - 可以在成本管理模块查看成本数据
   - 包括：材料成本、人工成本、制造费用等

---

## 十一、注意事项

1. **数据录入顺序：**
   - 必须先创建基础数据（分类、单位、仓库、工作中心、工序等）
   - 然后创建产品
   - 再创建BOM和工艺路线
   - 最后创建销售订单

2. **库存检查：**
   - 生产前确保原材料库存充足
   - 销售前确保成品库存充足

3. **订单审核：**
   - 根据系统配置，可能需要审核订单
   - 确保订单状态正确流转

4. **数量一致性：**
   - 确保各环节数量一致
   - 建议使用相同数量（如10个）便于验证
   - 注意：如果有不合格品，后续工序和入库数量会减少

5. **工序执行顺序：**
   - 必须按照工艺路线明细的序号顺序执行
   - 上一道工序完成后才能开始下一道工序
   - 不能跳过或乱序执行

6. **工单状态管理：**
   - 工单创建后需要下达才能开始生产
   - 开始生产前需要确保原材料已出库
   - 所有工序完成后工单自动完成

7. **不合格品处理：**
   - 如果某道工序有不合格品，需要记录不合格数量
   - 不合格品不会进入下一道工序
   - 最终入库数量 = 合格数量，不是完成数量

---

## 十二、简化版快速测试（最小数据）

如果只想快速体验流程，可以使用以下最小数据集：

### 最小产品配置：
- **成品：** 智能手环（1个）
- **原材料：** 显示屏（1个）、锂电池（1个）、手环外壳（1个）、主控板（1个）、表带（1个）

### 最小BOM：
- 智能手环 = 显示屏×1 + 锂电池×1 + 手环外壳×1 + 主控板×1 + 表带×1

### 最小工艺路线：
- 组装（30分钟）→ 测试（10分钟）→ 包装（15分钟）

### 最小订单：
- 销售订单：智能手环 × 1个

按照上述流程操作即可完成一个完整的生产流程体验。

---

**祝测试顺利！**

