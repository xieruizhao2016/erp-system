# 火山引擎技术支持工单模板

## 📋 工单标题

**无法访问Docker Hub等国际网站，影响容器镜像拉取**

---

## 🔍 问题描述

我在使用火山引擎云服务器部署应用时，发现无法从Docker Hub拉取容器镜像，连接Docker Hub时出现连接超时错误。同时测试发现，无法访问GitHub、Google等国际网站，但可以正常访问国内网站（如百度）。

**错误信息：**
```
Error response from daemon: failed to resolve reference "docker.io/library/mysql:8": 
failed to do request: Head "https://registry-1.docker.io/v2/library/mysql/manifests/8": 
dial tcp 185.45.7.185:443: connect: connection timed out
```

---

## ✅ 已完成的配置检查

### 1. 安全组规则配置

**入向规则（已正确配置）：**
- SSH (22端口) - 允许
- HTTP (80端口) - 允许
- HTTPS (443端口) - 允许
- ICMP (ping) - 允许

**出向规则（已正确配置）：**
- 策略: 允许
- 协议类型: ALL
- 端口范围: ALL
- 目的地址: 0.0.0.0/0
- 描述: 放通全部流量

### 2. 系统配置

- **操作系统**: CentOS Stream 9
- **Docker版本**: 29.1.1
- **Docker Compose版本**: v2.40.3
- **系统防火墙**: 未启用（firewalld服务未运行）

### 3. 网络测试结果

**可以正常访问：**
- ✅ 可以ping通 8.8.8.8（DNS服务器）
- ✅ 可以访问百度 (www.baidu.com)
- ✅ DNS解析正常（可以解析registry-1.docker.io）

**无法访问：**
- ❌ Docker Hub (registry-1.docker.io:443) - 连接超时
- ❌ GitHub (www.github.com) - 连接超时
- ❌ Google (www.google.com) - 连接超时

---

## 🔧 已尝试的解决方案

1. ✅ 检查并确认安全组规则配置正确（入向和出向都已放通）
2. ✅ 检查系统防火墙（未启用）
3. ✅ 检查DNS配置（已配置8.8.8.8和114.114.114.114）
4. ✅ 尝试配置多个Docker镜像加速器（均无法连接）
5. ✅ 尝试直接连接Docker Hub（连接超时）

---

## 📝 服务器信息

- **实例ID**: [请填写你的实例ID]
- **公网IP**: 115.190.240.137
- **地域**: [请填写，如：华北2-北京]
- **可用区**: [请填写]
- **实例规格**: [请填写，如：2核4G]

---

## ❓ 请求帮助

1. **检查网络路由配置**
   - 请检查该服务器的网络路由策略
   - 确认是否有策略限制访问特定国际网站
   - 如果是策略限制，请提供解决方案或白名单配置方法

2. **提供替代方案**
   - 火山引擎是否提供容器镜像服务（类似阿里云ACR）？
   - 如果有，请提供使用方法和镜像仓库地址
   - 或者是否有推荐的镜像加速器可以使用？

3. **网络配置建议**
   - 如果需要访问Docker Hub等国际网站，需要如何配置？
   - 是否需要申请特殊权限或配置？

---

## 📎 附件信息

**测试命令执行结果：**

```bash
# DNS解析测试
$ getent hosts registry-1.docker.io
# 结果：可以正常解析

# 网络连接测试
$ ping -c 3 8.8.8.8
# 结果：可以ping通

# HTTPS连接测试
$ curl -I https://registry-1.docker.io
# 结果：连接超时（15秒后失败）

# Docker拉取测试
$ docker pull mysql:8
# 结果：Error - connection timed out
```

---

## 🎯 期望结果

希望能够正常访问Docker Hub等国际网站，以便：
1. 从Docker Hub拉取容器镜像
2. 正常部署应用服务
3. 访问GitHub等开发资源

---

## 📞 联系方式

- **工单类型**: 网络问题 / 容器服务
- **紧急程度**: 中等（影响部署进度）
- **期望回复时间**: 24小时内

---

**感谢技术支持团队的帮助！**

