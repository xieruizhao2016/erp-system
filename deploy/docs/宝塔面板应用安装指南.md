# 宝塔面板应用安装指南

## 📦 必须安装的应用

### 1. Docker管理器 ⭐⭐⭐（最重要）

**用途：** 管理Docker容器、镜像，部署ERP系统

**安装步骤：**
1. 登录宝塔面板
2. 点击左侧 **"软件商店"**
3. 搜索 **"Docker管理器"** 或 **"Docker"**
4. 找到 **"Docker管理器"** 插件
5. 点击 **"安装"**
6. 等待安装完成（通常1-2分钟）

**安装后：**
- 服务器已安装的Docker会被自动检测
- 可以通过图形界面管理容器和镜像
- 可以拉取镜像、创建容器、查看日志等

### 2. 文件管理器（已内置）

**用途：** 管理服务器文件，编辑配置文件

**说明：** 宝塔面板已内置文件管理器，无需额外安装

## 🔧 推荐安装的应用

### 3. 计划任务

**用途：** 定时执行任务，如备份、清理日志

**安装步骤：**
1. 软件商店 → 搜索 **"计划任务"**
2. 点击安装

**使用场景：**
- 定时备份数据库
- 定时清理日志文件
- 定时重启服务

### 4. 系统监控（已内置）

**用途：** 监控服务器资源使用情况

**说明：** 宝塔面板已内置监控功能，在首页可以看到

## 🚀 使用Docker管理器部署ERP系统

### 步骤1: 检查Docker状态

1. 打开 **Docker管理器**
2. 查看 **"Docker信息"**，确认Docker正常运行
3. 查看 **"镜像管理"**，确认可以管理镜像

### 步骤2: 拉取Docker镜像

由于网络问题无法从Docker Hub拉取，可以：

**方案A: 使用宝塔终端手动拉取**
1. 在宝塔面板中打开 **"终端"**
2. 执行拉取命令（如果网络问题解决后）

**方案B: 手动导入镜像**
1. 如果有镜像文件，可以通过Docker管理器导入

### 步骤3: 使用Docker Compose部署

**方法1: 通过终端执行**

1. 打开宝塔面板的 **"终端"**
2. 执行以下命令：

```bash
cd /opt/erp-system/script/docker
docker compose -f docker-compose.prod.yml --env-file .env up -d
```

**方法2: 使用文件管理器编辑配置**

1. 打开 **"文件"** → 进入 `/opt/erp-system/script/docker`
2. 编辑 `docker-compose.prod.yml` 和 `.env` 文件
3. 在终端执行部署命令

### 步骤4: 管理容器

部署后，在Docker管理器中可以：
- 查看运行中的容器
- 查看容器日志
- 启动/停止/重启容器
- 进入容器终端

## 📝 部署ERP系统的完整流程

### 1. 安装Docker管理器

✅ 在软件商店安装 **Docker管理器**

### 2. 检查项目文件

1. 打开 **文件管理器**
2. 进入 `/opt/erp-system/script/docker`
3. 确认以下文件存在：
   - `docker-compose.prod.yml`
   - `.env`

### 3. 编辑环境变量（如需要）

1. 在文件管理器中打开 `.env` 文件
2. 检查配置是否正确：
   - `MYSQL_ROOT_PASSWORD=ErpSystem2025!@#`
   - `REDIS_PASSWORD=Redis2025!@#`
   - 其他配置项

### 4. 部署服务

**打开终端，执行：**

```bash
cd /opt/erp-system/script/docker
docker compose -f docker-compose.prod.yml --env-file .env up -d --build
```

### 5. 查看服务状态

1. 在 **Docker管理器** 中查看容器状态
2. 或执行命令：
   ```bash
   docker compose -f docker-compose.prod.yml ps
   ```

### 6. 查看日志

1. 在 **Docker管理器** 中点击容器 → **"日志"**
2. 或执行命令：
   ```bash
   docker compose -f docker-compose.prod.yml logs -f
   ```

## 🎯 当前状态

### 已完成 ✅
- 宝塔面板已安装并可以访问
- Docker已安装（29.1.1）
- Docker Compose已安装（v2.40.3）
- 项目代码已上传
- 环境变量已配置

### 待完成 ⏳
- 安装Docker管理器插件
- 解决Docker镜像拉取问题（网络问题）
- 部署ERP服务

## 💡 关于Docker镜像拉取

由于当前无法从Docker Hub拉取镜像，可以：

1. **等待网络问题解决**（联系技术支持）
2. **使用VPN**（如果配置了VPN）
3. **手动导入镜像**（如果有镜像文件）
4. **使用火山引擎镜像服务**（如果提供）

## 📚 宝塔面板常用功能

### 文件管理
- 可视化文件浏览器
- 在线编辑文件
- 上传/下载文件

### 终端
- Web终端，方便执行命令
- 支持多标签页

### 监控
- CPU、内存、磁盘使用情况
- 实时监控图表

### 日志查看
- 系统日志
- 服务日志
- 错误日志

---

**下一步：** 安装Docker管理器后，我们就可以通过图形界面管理Docker，部署ERP系统了！

