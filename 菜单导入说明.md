# 菜单SQL导入说明

## 📋 导入方式

### 方式一：使用脚本导入（推荐）

```bash
./scripts/import-menu-sql.sh ruoyi-vue-pro root
```

脚本会提示输入数据库密码。

### 方式二：直接使用MySQL命令

```bash
# 如果MySQL在本地运行
mysql -u root -p ruoyi-vue-pro < sql/mysql/erp_production_menus.sql

# 如果MySQL在Docker中运行
docker exec -i yudao-mysql mysql -u root -p123456 ruoyi-vue-pro < sql/mysql/erp_production_menus.sql
```

### 方式三：通过MySQL客户端工具

1. 使用 Navicat、DBeaver、MySQL Workbench 等工具
2. 连接到数据库 `ruoyi-vue-pro`
3. 打开文件 `sql/mysql/erp_production_menus.sql`
4. 执行SQL脚本

### 方式四：通过系统管理界面

1. 登录系统管理界面
2. 进入：**系统管理** → **菜单管理**
3. 手动添加菜单项（参考SQL文件中的配置）

## ⚠️ 注意事项

### 1. 菜单ID冲突
- SQL文件中的菜单ID从 5042 开始
- 如果与现有菜单ID冲突，需要手动调整
- 检查现有最大菜单ID：
  ```sql
  SELECT MAX(id) FROM system_menu;
  ```

### 2. 父菜单ID
- 生产管理目录的父菜单ID是 2563（ERP系统）
- 确保ERP系统菜单存在：
  ```sql
  SELECT id, name FROM system_menu WHERE id = 2563;
  ```

### 3. 导入前检查
```sql
-- 检查生产管理菜单是否已存在
SELECT id, name FROM system_menu WHERE id = 5042 OR name = '生产管理';

-- 如果已存在，需要先删除或修改ID
```

## 🔍 验证导入

导入后，执行以下SQL验证：

```sql
-- 检查生产管理目录
SELECT id, name, path FROM system_menu WHERE id = 5042;

-- 检查子菜单数量（应该是24个）
SELECT COUNT(*) as menu_count FROM system_menu WHERE parent_id = 5042;

-- 查看所有生产管理菜单
SELECT id, name, path, component FROM system_menu WHERE parent_id = 5042 ORDER BY sort;
```

## 📝 SQL文件信息

- **文件位置**: `sql/mysql/erp_production_menus.sql`
- **菜单数量**: 24个主菜单 + 120个权限按钮
- **菜单ID范围**: 5042-5066（主菜单）+ 按钮菜单（自动生成ID）

## 🚀 导入后操作

1. **刷新系统缓存**（如果需要）
2. **重新登录系统**
3. **检查菜单显示**：ERP系统 → 生产管理
4. **配置角色权限**：系统管理 → 角色管理

